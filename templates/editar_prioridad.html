<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Editar Prioridad</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
</head>
<body>
    <div class="contenedor">
    <h1 class="escritura fade-in">Editar Prioridad</h1>

    {% if error %}
        <p style="color:red;">{{ error }}</p>
    {% endif %}

    <form method="post">
        <label for="nombre">Nombre:</label>
        <input type="text" name="nombre" value="{{ prioridad.nombre }}" required>
        <br><br>

        <label for="visible">Â¿Visible?</label>
        <input type="checkbox" name="visible" {% if prioridad.visible %}checked{% endif %}>
        <br><br>

        <input type="submit" value="Guardar Cambios">
    </form>
    <br>
    <a href="{{ url_for('admin') }}" class="btn">Volver al panel</a>

    <script>
        document.querySelector("form").addEventListener("submit", function (e) {
            const nombre = document.querySelector('input[name="nombre"]').value.trim();
            let errores = [];

            if (!nombre) errores.push("El nombre es obligatorio.");

            if (errores.length > 0) {
                e.preventDefault();
                alert(errores.join("\n"));
            }
        });
    </script>
    </div>
</body>
</html>
