<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Iniciar Sesión</title>
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <h1>Login</h1>
    {% if error %}
        <p style="color:red;">{{ error }}</p>
    {% endif %}
    <form method="post" id="formLogin" novalidate>
        <label for="usuario">Correo o usuario:</label>
        <input type="text" name="usuario" required>
        <br><br>

        <label for="password">Contraseña:</label>
        <input type="password" name="password" required>
        <br><br>

        <input type="submit" value="Iniciar sesión">
    </form>
    <p>¿No tienes cuenta? <a href="{{ url_for('register') }}">Regístrate aquí</a></p>

    <script>
        document.getElementById('formLogin').addEventListener('submit', function (e) {
            const usuario = document.querySelector('input[name="usuario"]').value.trim();
            const password = document.querySelector('input[name="password"]').value.trim();

            let errores = [];

            if (usuario === '') errores.push("Usuario o correo es obligatorio.");
            if (password === '') errores.push("Contraseña es obligatoria.");

            if (errores.length > 0) {
                e.preventDefault();
                alert(errores.join("\n"));
            }
        });
    </script>
</body>
</html>
